function [y1] = Nolan_pitcher_NNF(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 12-Nov-2015 12:13:55.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx14 matrix, input #1
% and returns:
%   y = Qx1 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [0;0;1.41;1;4;0;1;1;1;2.23;4;19;0;0];
x1_step1_gain = [0.0833333333333333;0.111111111111111;0.278551532033426;0.024390243902439;0.00737735153080044;0.0434782608695652;0.0909090909090909;0.0062111801242236;0.00769230769230769;0.615384615384615;0.00235571260306243;0.000381300999008617;0.00719424460431655;2];
x1_step1_ymin = -1;

% Layer 1
b1 = [1.9134354250635079442;-1.4872743134587933511;0.9551373091858954556;0.46225818955792075116;-0.56001620518034789242;0.26328543565804080062;2.4401812227158337087;0.70045769927347412143;2.2025365667764766897;1.5317807275753643204];
IW1_1 = [-0.31897513256303583473 -0.53149266426632468807 -0.45836258753437469915 -0.28197799029299208673 -0.14015195975742839041 -0.85353548769342080238 -0.51562496609262109537 -0.50404630062688893233 -0.27819915004635659139 0.03858651845092509608 0.71185761178668227611 0.53302041613186734725 -0.34287111341897574812 0.19481652583527547806;-1.203086865066895772 1.9954584478891888022 1.0084020431015003894 -0.49425825677649115608 -1.4056841638771542247 -0.1340399668599558114 1.3063111672712042211 0.463497294249092473 1.0370026702544321573 1.1124325717319614171 -0.67016512214253431967 0.29499649565239360882 -1.2485727688441650152 -1.0789628389248118179;0.07591215436323464627 0.88437440614474449596 0.530288978019541557 -1.7602060965251125069 0.27074740827011062327 -0.50937148849424929153 0.41719284051147015324 -0.54840212956758505047 -0.66419485172808401252 0.2914176598228419568 0.17264886853189037597 0.32680690258844136142 -0.81136302638104040863 0.21650639164047735807;2.181857960792357165 -1.001841611206773619 0.052146850875346553722 0.81922880696750099982 -1.3122999017447845027 -0.25660040723357036008 -1.6534366008181691221 1.7860168865744989741 1.0138052942817126212 0.99236158713208089122 0.097282869193754895054 -0.52246325603243581881 -0.4322816089226100833 1.1780478889919399066;-0.93169209671078745405 -0.79118398565720959859 1.1691444059051254722 -0.024620742992663258164 -0.047110477178836929202 -1.4467275463362427868 -0.68552651278423160086 -0.28355844698758070344 1.248957989286323178 0.073062813183876473833 0.96725943220114452004 -0.14432004081929739048 0.60512583476965975393 1.5445636200829959694;0.40184601261176655651 0.530131872844184171 0.010621251511471696549 0.54293213970698839255 -0.27420004131347175402 0.98329655413495398175 -0.074760794850491002483 -0.37279457999983273142 0.14944820527921157116 -0.11310016502052787357 -0.32326996678608466151 1.0540771305482836695 -0.79394066344103486621 1.268450779543206508;-1.7320056476651104482 0.68740351683140932249 1.0818872637086274224 0.25312151598501447802 0.75362945746913623246 0.50116928966632701137 0.85208489196253867082 1.5706356729918558024 0.46804643828538122774 -1.3691343157019901788 -0.11075797544781020021 0.60033349734733210123 -0.28053866125672149989 1.6292753164373798835;1.6026146440389161807 -0.77336932441614103517 1.3834707473011353951 0.22948189892029741133 0.76311031758135350334 0.55798867238980753847 -0.41195704714743636154 0.050886306223177954489 0.98334471069877482652 -0.67927113328233512668 0.28221174632894052703 -0.46656694818234573097 1.2224593945355808344 0.23136643949663887598;-0.44988075558200429915 0.0042206263040763837557 0.25907185877296801113 -0.13932047688090742898 0.02365579660138797044 -1.0114943378446330513 0.35696617597563773394 0.41370657290998363864 -0.29394057789648092571 0.29192780415433350338 -0.41335710589585855645 -0.32706707642854754292 0.18777719571176026969 -0.92764849228190526809;0.64970058215617065844 -0.58421593801923721312 1.1996479542987827926 -1.8945097102238586118 -0.21592641879006735373 -1.0416821366189241704 -1.2482339312734866965 1.0688715807066326846 0.00034698383508419833321 -1.2209785804269208676 0.11777098610606845375 0.76433459390182056925 -0.79244807694868124592 0.21886714847043639565];

% Layer 2
b2 = 0.45185321461401167786;
LW2_1 = [-0.51075687341556064158 0.12981202956938386883 0.12221739494065736453 0.56222233513756236789 -0.47285507385909292255 -0.78865267344695921814 0.81754093118067050483 0.24505090409489882486 -0.42975481696479822524 -0.21233647802113839176];

% Output 1
y1_step1_ymin = -1;
y1_step1_gain = 0.00111888111888112;
y1_step1_xoffset = 62.5;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
x = bsxfun(@minus,y,settings_ymin);
x = bsxfun(@rdivide,x,settings_gain);
x = bsxfun(@plus,x,settings_xoffset);
end
