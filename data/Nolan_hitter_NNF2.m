function [y1] = Nolan_hitter_NNF2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 12-Nov-2015 11:52:07.
%
% [y1] = Nolan_hitter_NNF2(x1) takes these arguments:
%   x = Qx26 matrix, input #1
% and returns:
%   y = Qx1 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [19;1;0;0;0;0;1;19;4;0;2;3;1;0;0;0;0.05;0.05;0;0.05;0;0.196261682242991;0.235756385068762;0;0.235756385068762;0.023121387283237];
x1_step1_gain = [0.0029940119760479;0.00843881856540084;0.05;0.0153846153846154;0.0165289256198347;0.019047619047619;0.0869565217391304;0.000142511044605957;0.000470366886171214;0.00364963503649635;0.00092464170134073;0.00120772946859903;0.0012779552715655;0.00145243282498184;0.0040650406504065;0.0625;6.51685393258427;4.09893992932862;25.8333333333333;3.82647385984427;7.81818181818182;12.8377818087587;7.50741050451957;28.46875;7.19625021947514;10.9801093809872];
x1_step1_ymin = -1;

% Layer 1
b1 = [-3.5770185836833503501;-0.36084996676171227081;1.0224050126637971303;0.8502978052730452152;-0.30306016826734949454;0.42427074393220776116;-1.7268592783785097211;-1.6819417077627598633;0.82851695175407924499;2.4216632383710083865];
IW1_1 = [1.1927450265807113539 -0.87564135740686244169 0.53214081009363500829 0.11638126117943921323 0.0064765758390318284299 -0.47200939127958374542 -1.2317081737450346068 -1.1946292139063836579 -0.94656000340349943922 1.1407262036543284189 -0.30115996858110649637 -1.0092416822559142631 -0.6304188373653087929 0.24048472514845514736 -0.51271373063317615681 0.301788724935883379 0.34270432181644755465 0.64285486100884914329 -0.016661447827752029482 0.46332768897862902646 1.3977232464633466691 0.89281942855533857895 -0.34996045409170994933 0.02248095492053964195 -0.79588118197487567329 0.054115389078275871748;-0.12717401347468923478 1.6298800437521030471 0.4617176541367555842 0.43441060653113944268 -0.70068863776647349884 -1.0373764164023520085 -0.92083033608444875284 0.016109738479503098868 0.15642127413675610548 2.171852133719992306 -1.0633432794379480413 -0.62422159309704272623 -0.54124419753515207177 0.50205301664152790497 -0.70421291166214727841 -0.65384638706138242803 0.054661567024245946711 -0.61437707808375441321 1.7934357614259428537 0.05939206271666548631 -0.037751188775267716102 2.5368776815387636958 0.24384220172593545906 -0.90882286500525977235 -0.24385299620482844829 -0.79183364507273878985;0.2773024816425606609 1.0002921473355332882 1.6875115309274513198 -0.53936334872200686341 -2.0450723730056075134 1.0012306661842038658 0.056761482316887296173 -2.0853594096150449566 -0.39996227980927467893 2.0438651608556499539 -0.48776057985510662407 2.1221799445945630502 0.20318964592043442519 0.67947083353234305481 -0.40077937946733543928 0.48679169739741334766 -0.017106523761813499651 0.47008108043055601977 0.20003716276626276604 0.33864062097108360572 -0.050893971612680777294 0.26268326745795828048 0.36433585967787174287 0.33498844709851488544 -0.24732827932932352488 0.2468532669634187493;0.34126749376654813561 -0.024718973416746135852 -0.34021623875540024651 0.87228750198057758425 0.94111137183562532105 0.93844767028568498723 1.0782057799311506319 -1.1725297502360862989 -0.11035263935288858184 1.6376694547498815702 -0.91889229574539099676 -0.72985919675478694302 0.48479817595609819847 -0.28403401237258452117 -0.31137503842131764031 -0.17871387485662809658 -0.31381453378533485932 -0.21983714106410986999 0.27392259824315245975 -0.66659011003175860921 -1.104880534501622158 -0.17238310411191620775 0.66684277601257890833 0.0083914000648744463406 0.25344007450387195934 0.40471763627553386522;-0.41710216345919615133 -0.16198492292534466541 -0.28641196216372888372 0.0020890370513837602795 0.79127637928205241113 0.81068245896435275899 0.37990291056448866058 -0.035314346198684259948 -0.69341784114086724156 0.029563735499886806268 -0.10505495878512452479 -0.88914949671379439611 0.35132494470825331723 0.77929461179202996757 -0.14840563840082951486 -0.11661744373965349242 1.4131669433502247468 1.2470718842047676667 0.27262303473823840116 0.84767009365717871372 1.1804509239360294615 -0.42477759078323412689 1.0180907337993483353 0.058698835240390191681 0.49986042521191781374 1.5030412129429346901;-0.16498593594749608182 -0.6039167479084150969 0.78496587289928809739 0.6427016563859831999 0.71883968010060173004 0.99123802603514477028 0.33368777986783770828 -1.0981104635691709692 -0.53872129915463107253 -1.6702568831052919673 1.6584116409544207293 0.21159993461925802327 -0.25626420854909154334 0.36980680933001885968 -0.20473575077454744808 0.12019822219145948061 -0.3146773069386139543 -0.36376371471943746982 -0.28867124934158833183 -0.53862904116207177552 -0.30949067339030583712 0.22641783490672554024 0.1988618117334615687 0.83714699788279545167 0.19009891376834353593 0.18951277868188681763;-0.30792188283857258035 1.1936281544713338576 -0.45311741247142173217 -0.23661395440167537485 1.1863306951933414446 0.2662357871472783577 0.16552265055875003963 -0.54750945983261223304 0.30578042752983358721 -0.58003064576733187607 0.40435944695867859222 0.47913410388968002973 -0.58704337185285959677 -0.11305144085035896684 0.15997530968361514669 -0.80669901888052175654 0.24975306924195606051 0.074103446094817795875 -0.0087475223585231354217 -0.49300494463359628705 -0.51599690192151892454 0.76402352737284495721 0.35863812806556472079 -1.7373089075694096994 0.36919116861657041984 0.99410272189740711557;1.9885795068612419634 1.0894428395358546346 0.68099347029506263063 -0.16699369368337785291 0.010631345528192066852 -2.5530015620498724971 -0.71916513697717232567 -1.1900999989459992712 -0.95534049793974806786 0.60684965514272803944 -0.4391636445761313845 -0.54598855426470738195 -0.36077184344874219102 -1.1441776147197615376 0.31916296332738547381 0.72978528879184401124 -0.72367063571998380134 -0.41135624513547974779 -0.35528275000734516054 -0.29084562914651534982 -0.14500814357531544019 0.54216619647406882887 0.62381691424704555082 0.32963949345109067046 -0.12452514633159997293 0.36631944913872044323;0.9555094048684916741 1.1968965596494154369 -0.19819234569780466715 0.78303484983374938011 1.722712431394040733 -0.44026562045014605573 0.1555041656738568312 -0.14131687728132485971 1.1653359934131242159 0.085223214031912727928 0.63749835644392527367 0.30675721378250686566 0.39756527985037198869 -0.79916704322787357473 -0.20101705927292654041 -0.56571321710698518892 0.17084277384058349503 0.056214565782378198011 -0.15206005138709527413 0.11429845361070418985 -0.72523645664500424601 0.018608553743075635645 0.30126613239612948236 -0.89316059979318129791 -0.54849074476497439168 -0.65338451314780354728;0.12472589359289881772 0.74158248088285438904 0.25466468417778237443 1.6299578965352898852 -0.26228739827910985127 0.080542565052584169649 -0.079587489229608898711 1.1871872658884257135 0.85601740207588439269 -0.087495351522235059738 1.2296704899072059547 1.5284516205054097249 0.73690601951437806338 -1.8344709929073690358 -1.0502981759160410213 -0.40734486442429479469 0.061768516145070062606 0.81519858532343969504 -0.67068854751673057102 0.54254781021704223676 0.3698906230202627099 -0.59060469761516010134 -0.087761430821576377759 -1.1312360480823180353 -0.9267882579563589962 -0.47013195168945853819];

% Layer 2
b2 = -0.43492494489543176428;
LW2_1 = [-0.38281351640649169399 0.0021612142878314755112 0.37569066135000955819 -0.57533698285355783231 0.028833364294526445115 0.50867678111239367222 0.19410021165544358301 0.13987059666675982772 0.056589290206116672766 0.19550399038481935943];

% Output 1
y1_step1_ymin = -1;
y1_step1_gain = 0.00083594566353187;
y1_step1_xoffset = 67.5;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
x = bsxfun(@minus,y,settings_ymin);
x = bsxfun(@rdivide,x,settings_gain);
x = bsxfun(@plus,x,settings_xoffset);
end
